@model MortgageApplication;

@{
    ViewData["Title"] = "New";
}

<div class="row">
    <div class="col-sm-12">

        <div asp-validation-summary="All"></div>

        <form action="javascript:void(0);" method="post" enctype="multipart/form-data">
            <div class="panel panel-primary">
                <div class="panel-heading"><h1 class="panel-title">Mortgage Application</h1></div>
                <div class="panel-body">
                    <h2 class="h3">Applicant Details</h2>
                    @* Begin form fields for applicant details *@
                    <div class="form-group">
                        <label asp-for="LastName">Last Name</label>
                        <input type="text" class="form-control" asp-for="LastName" placeholder="Last name" maxlength="128" required readonly  />
                    </div>

                    <div class="form-group">
                        <label asp-for="FirstName">First Name</label>
                        <input type="text" class="form-control" asp-for="FirstName" placeholder="Last name" maxlength="128" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="DateOfBirth">Date of Birth</label>
                        <input type="date" class="form-control" asp-for="DateOfBirth" placeholder="" required readonly" />
                    </div>

                    <div class="form-group">
                        <label asp-for="EmailAddress">Email Address</label>
                        <input type="email" class="form-control" asp-for="EmailAddress" placeholder="user@domain.tld" maxlength="256" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="PhoneNumber">Phone Number</label>
                        <input type="tel" class="form-control" asp-for="PhoneNumber" placeholder="" maxlength="32" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="Address">Address</label>
                        <input type="text" class="form-control" asp-for="Address" placeholder="1234 Main St." maxlength="512" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="City">City</label>
                        <input type="text" class="form-control" asp-for="City" placeholder="Houston" maxlength="256" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="State">State</label>
                        <input type="text" class="form-control" asp-for="State" placeholder="Texas" maxlength="50" required readonly />
                    </div>

                    <div class="form-group">
                        <label asp-for="ZipCode">ZIP Code</label>
                        <input type="text" class="form-control" asp-for="ZipCode" placeholder="77058" maxlength="10" required readonly />
                    </div>

                    <div class="form-group">
                        <label for="grossIncome2018">Gross Income 2018</label>
                        <input type="number" class="form-control" asp-for="GrossIncomeFY1" placeholder="0" min="0" required readonly />
                    </div>

                    <div class="form-group">
                        <label for="grossIncome2017">Gross Income 2017</label>
                        <input type="number" class="form-control" asp-for="GrossIncomeFY2" placeholder="0" min="0" required readonly />
                    </div>

                    <div class="form-group">
                        <label for="grossIncome2016">Gross Income 2016</label>
                        <input type="number" class="form-control" asp-for="GrossIncomeFY3" placeholder="0" min="0" required readonly />
                    </div>

                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" asp-for="Married" value="true" disabled> Married
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" asp-for="Veteran" value="true" disabled> Veteran
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="state">Additional Information</label>
                        <textarea class="form-control" asp-for="AdditionalInfo" placeholder="Any additional information" maxlength="2000" required readonly></textarea>
                    </div>
                    @* End form fields for applicant details *@

                    <h2 class="h3">Loan Details</h2>

                    @* Begin form fields for loan details *@
                    <div class="form-group">
                        <label asp-for="LoanAmount">Loan Amount</label>
                        <input type="number" class="form-control" asp-for="LoanAmount" placeholder="0" min="50000" max="1000000" required readonly>
                    </div>

                    <div class="form-group">
                        <label asp-for="DownPayment">Down Payment</label>
                        <input type="number" class="form-control" asp-for="DownPayment" placeholder="0" min="0" required readonly>
                    </div>

                    <div class="form-group">
                        <label asp-for="InterestRate">Interest Rate</label>
                        <input type="number" class="form-control" asp-for="InterestRate" placeholder="0.0" min="2.00" step="0.01" max="15.00" required readonly />
                    </div>

                    @* Uncomment the following if you want to use a Select for the Loan Duration *@
                    @*
                        <div class="form-group">
                            <label asp-for="LoanDuration">Loan Duration</label>
                            <select class="form-control" asp-for="InterestRate" disabled>
                                @if (Model.LoanDuration == 180)
                                {
                                    <option value="180" selected>15 Years(180 Months)</option>
                                }
                                else
                                {
                                    <option value="180">15 Years(180 Months)</option>
                                }
                                @if (Model.LoanDuration == 360)
                                {
                                    <option value="360" selected>30 Years (360 Months)</option>
                                }
                                else
                                {
                                    <option value="360">30 Years (360 Months)</option>
                                }
                            </select>
                        </div>
                    *@

                    @* Uncomment the following if you want to use Radio Inputs for the Loan Duration *@
                    
                        <div class="form-group">
                            <strong>Loan Duration</strong>
                            <div class="radio">
                                @if (Model.LoanDuration == 180)
                                {
                                    <label>
                                        <input type="radio" asp-for="LoanDuration" value="180" checked disabled /> 15 Years(180 Months)
                                    </label>
                                }
                                else
                                {
                                    <label>
                                        <input type="radio" asp-for="LoanDuration" value="180" disabled /> 15 Years(180 Months)
                                    </label>
                                }
                            </div>
                            <div class="radio">
                                @if (Model.LoanDuration == 360)
                                {
                                    <label>
                                        <input type="radio" asp-for="LoanDuration" value="360" checked disabled /> 30 Years (360 Months)
                                    </label>
                                }
                                else
                                {
                                    <label>
                                        <input type="radio" asp-for="LoanDuration" value="360" disabled /> 30 Years (360 Months)
                                    </label>
                                }
                            </div>
                        </div>
                    

                    @* End form fields for loan details *@
                </div>
            </div>

            <div class="panel panel-info">
                <div class="panel-heading">
                    <h1 class="panel-title">Amortization Schedule</h1>
                </div>
                <div class="panel-body">
                    <!-- Begin Table for Amortization Schedule -->
                    <table id="amortizationTbl" class="table table-condensed table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Payment #</th>
                                <th>Current Balance</th>
                                <th>Monthly Payment</th>
                                <th>Monthly Principal</th>
                                <th>Monthly Interest</th>
                                <th>Accumulated Interest</th>
                                <th>Remaining Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.AmortizationSchedule().Any())
                            {
                                foreach (var sched in Model.AmortizationSchedule())
                                {
                                    <tr>
                                        <td class="text-right">@sched.PaymentNumber</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.CurrentBalance)</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.MonthlyPayment)</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.MonthlyPrincipal)</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.MonthlyInterest)</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.TotalInterestPaid)</td>
                                        <td class="text-right">@string.Format("{0:C2}", sched.RemainingBalance)</td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr><td colspan="7">No Calculations</td></tr>
                            }
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Payment #</th>
                                <th>Current Balance</th>
                                <th>Monthly Payment</th>
                                <th>Monthly Principal</th>
                                <th>Monthly Interest</th>
                                <th>Accumulated Interest</th>
                                <th>Remaining Balance</th>
                            </tr>
                        </tfoot>
                    </table>
                    <!-- End Table for Amortization Schedule -->
                </div>
            </div>

        </form>

    </div>
</div>